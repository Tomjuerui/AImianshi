spring.application.name=aimian

# 服务器配置
server.port=8080

# ========== 数据库配置（H2 内存数据库）==========
spring.datasource.url=jdbc:h2:mem:aimian;MODE=MySQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH;INIT=CREATE SCHEMA IF NOT EXISTS PUBLIC
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 控制台（开发环境可用，生产环境应关闭）
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# MyBatis-Plus配置
mybatis-plus.mapper-locations=classpath*:/mapper/**/*.xml
mybatis-plus.type-aliases-package=org.itjuerui.domain
mybatis-plus.configuration.map-underscore-to-camel-case=true
mybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl

# 数据库初始化（自动执行 schema.sql）
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:db/schema.sql
spring.sql.init.data-locations=
spring.sql.init.continue-on-error=true

# ========== Redis配置（可选，未连接时不阻塞启动）==========
# 开发环境默认排除 Redis 自动配置，避免未配置时连接失败阻塞启动
# 如果不需要 Redis，保持以下配置注释状态即可
# 如果需要使用 Redis，请：
# 1. 取消注释下面的 Redis 配置
# 2. 注释掉下面的 spring.autoconfigure.exclude 配置
# 3. 确保 Redis 服务正在运行
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration

# spring.data.redis.host=localhost
# spring.data.redis.port=6379
# spring.data.redis.password=
# spring.data.redis.database=0
# spring.data.redis.timeout=3000ms
# spring.data.redis.lettuce.pool.max-active=8
# spring.data.redis.lettuce.pool.max-idle=8
# spring.data.redis.lettuce.pool.min-idle=0

# ========== LLM配置（可选，未配置时接口返回明确错误）==========
# 如果未配置 provider 或 apiKey，LLM 相关接口会返回错误，但应用可以正常启动
# 支持两种配置方式：
# 1. 通用配置（适用于所有 provider）
# llm.provider=qwen
# llm.apiKey=your-api-key
# llm.baseUrl=https://api.example.com
# llm.model=model-name
# 2. Provider 特定配置（优先级更高）
llm.provider=qwen
llm.qwen.apiKey=sk-6fb6f588e9a846c594b6d931bc944b3c
llm.qwen.baseUrl=https://dashscope.aliyuncs.com/compatible-mode/v1
llm.qwen.model=qwen-turbo
llm.deepseek.apiKey=sk-6d587b5ed77442fcb25503b38d64c2a8
llm.deepseek.baseUrl=https://api.deepseek.com
llm.deepseek.model=deepseek-chat

# Report AI 配置
report.ai.enabled=false

# ========== MinIO配置（可选）==========
# minio.endpoint=http://localhost:9000
# minio.access-key=minioadmin
# minio.secret-key=minioadmin
# minio.bucket-name=aimian

# 文件上传配置
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# 日志配置
logging.level.org.itjuerui=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.data.redis=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n
