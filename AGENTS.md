# AGENTS 项目文档

## 1. 项目概述
AGENTS 项目旨在开发一款基于 AI 技术的智能面试系统，专门针对 Java 后端技术栈的校招面试场景。系统能够解析用户的简历，自动生成面试题目，并通过 AI 模拟真实的面试过程，提供面试问题的评分与复盘报告。用户可以通过系统模拟面试来提升面试技能，并获得个性化的反馈。

主要功能包括：
- 简历上传与解析
- 基于技术栈的面试题生成
- AI 模拟面试与追问
- 面试评分与复盘报告生成

## 2. 开发规范

### 2.1 代码组织
- **模块化**：每个功能模块（如简历解析、面试编排、报告生成）应该被拆分成独立的类或者子模块，保持代码的高内聚低耦合。
- **命名规范**：采用驼峰命名法（camelCase）来命名变量、方法和类。类名首字母大写，方法和变量名首字母小写。
- **文件结构**：按功能划分包，例如：
  - `com.agents.resume`：简历解析相关
  - `com.agents.interview`：面试流程控制
  - `com.agents.report`：报告生成与输出
  - `com.agents.llm`：AI 模型相关

### 2.2 代码注释
- **函数注释**：每个公共方法应有注释，简要描述功能，参数与返回值的说明，复杂逻辑可加详细注释。
- **类注释**：类文件头应有类功能描述，依赖关系及使用说明。

### 2.3 依赖管理
- **Maven**：使用 Maven 作为项目的依赖管理工具，确保项目中的所有依赖都通过 `pom.xml` 文件进行统一管理。
- **版本管理**：依赖的版本要固定，避免因为版本不一致导致的兼容问题。

## 3. 测试要求

### 3.1 单元测试
- 使用 **JUnit 5** 编写单元测试，确保每个模块功能的正确性。
- 测试覆盖率应达到 **80%** 以上，尤其是核心功能如面试流程、报告生成等。

### 3.2 集成测试
- 使用 **Spring Test** 或 **Postman** 对 REST API 进行集成测试，确保各个服务之间的协作无误。
- 集成测试需模拟真实场景，确保端到端的功能正常。

### 3.3 测试环境
- 所有的测试环境应当模拟生产环境配置，并与实际数据库分开，避免影响线上数据。

## 4. 代码风格

### 4.1 变量命名
- 变量、方法名使用 **小驼峰命名法**（如：`userName`, `calculateTotalAmount`）。
- 常量使用 **全大写字母加下划线**（如：`MAX_RETRIES`, `DEFAULT_TIMEOUT`）。

### 4.2 函数设计
- 函数应当做到 **单一职责**，每个函数仅处理一个功能。
- 函数长度尽量控制在 **20行以内**，过长的函数可以考虑拆分。

### 4.3 代码格式
- 每个函数前空两行，每个类之间留一行空行。
- **缩进**使用 4 个空格，不允许使用制表符（Tab）。
- 保持代码对齐，确保可读性。

### 4.4 异常处理
- 使用自定义异常类对常见错误进行封装（如 `ResumeParseException`, `InterviewSessionException`）。
- 异常捕获后应记录详细日志，并向用户返回友好的错误提示。

## 5. 注意事项

### 5.1 安全性
- **简历与报告文件**：上传的简历文件应进行加密处理，防止敏感信息泄露。
- **个人信息保护**：所有用户的个人信息（如姓名、邮箱、电话等）必须符合 **GDPR** 或 **中国网络安全法** 的相关要求。
- **API 安全性**：使用 **JWT** 或 **OAuth2** 做 API 鉴权，避免未授权访问。

### 5.2 性能
- **性能优化**：在用户高频请求的场景下（如面试开始/结束时），确保系统响应速度不超过 **2秒**，避免系统崩溃。
- **异步处理**：对于非实时性需求，如报告生成、简历解析等，使用 **异步任务** 进行处理，避免阻塞主线程。

### 5.3 部署
- **自动化部署**：使用 **Docker** 容器化应用，并配置 CI/CD 流程，确保每次提交代码后都能自动进行测试与部署。
- **环境管理**：保持多个环境（如开发环境、测试环境、生产环境）的配置隔离，避免环境冲突。

### 5.4 日志与监控
- **日志**：使用 `SLF4J` 与 `Logback` 进行日志记录，确保每个关键流程都有日志记录。
- **监控**：集成 **Prometheus** 或 **ELK Stack** 进行日志监控，确保系统异常时能及时预警。

---

> **备注**：本文件中的内容为基本的开发规范，可能会根据团队需求和项目阶段进行调整。请随时关注项目文档更新，保持与团队协作的同步。